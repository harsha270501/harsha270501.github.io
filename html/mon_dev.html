    <!-- 
    Author       : Roopa Vidhya G, Harshavardhini B, Aishwarya.S.R
    Project      : Smart-Home Management-UI
    Date Updated : 27.06.2020
    -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Home Management System</title>
    <link rel="icon" type="image/png" href="../images/Home%20Icon%20-1.png">
      
    <!--Google Fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:900&display=swap"
      rel="stylesheet"
    />

    <!--Bootstrap-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
      
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
      
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
      
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>

    <!--Font Awesome-->
    <script
      src="https://kit.fontawesome.com/04a54148ef.js"
      crossorigin="anonymous"
    ></script>

    <!--CSS-->
    <link rel="stylesheet" href="../css/styles.css" />
      
    <!--JS-->
    <script src=" https://cdn.jsdelivr.net/npm/web3/dist/web3.js"></script>
    <script type="text/javascript" src="../js/abi.js"></script>
    <script type="text/javascript" src="../js/web3i.js"></script>
    <script type="text/javascript" src="../js/mon_dev.js"></script>
         
  </head>

    
  <body>
    
      <div class="container-fluid">
      <!-- Nav Bar -->

      <navbar class="navbar navbar-expand-md bg-dark navbar-dark fixed-top">
        <a class="navbar-brand nav-bar-text" href="#">Smart Home Management</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarTogglerDemo01"
          aria-controls="navbarTogglerDemo01"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
        <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link nav-bar-text" href="#register"
                >Register</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link nav-bar-text" href="#dashboardmd">Dashboard</a>
            </li>
            </ul>
        </div>
      </navbar>
    </div>
    
    <section id="register">
        <div class="container-fluid">
          <div class="row">
            <div class="col col-lg-12">
              <div class="reg-box" id="reg-box">
                <div class="reg-form" id="reg-form">
                  <img src="../images/MonDev%20Icon-1.png" width="50px" height="50px">
                  <h3>Monitoring Device Registration</h3><br><br>
                      <form>
                          <div class="form-group">
                              <label for="reg_house_id">House ID</label>
                              <input type="text" class="form-control" id="reg_house_id" placeholder="House ID">     
                          </div>

                        <div class="form-group">
                            <label for="reg_mon_dev_type">Monitoring Device Type</label>
                            <select id="reg_mon_dev_type" name="reg_mon_dev_type">
                                <option value="BGM">Blood Glucose Meter</option>
                                <option value="BPM">Blood Pressure Monitor</option>
                                <option value="HRM">Heart Rate Monitor</option>
                            </select>
                        </div> 

                          <div class="form-group">
                              <label for="reg_mon_dev_rating">Device Rating</label>
                              <input type="text" class="form-control" id="reg_mon_dev_rating" placeholder="Device Rating in Watt">
                          </div>
                          
                          <div class="form-group form-check">
                              <input type="checkbox" class="form-check-input" id="mon_check">
                              <label class="form-check-label" for="mon_check">I agree to terms and conditions</label>
                          </div>
                          
                          
                          <p id="mon_text" style="display:none">Plese click on the checkbox to continue..</p>

                          <button type="button" onclick="mon_check_box()" class="btn btn-primary">Submit</button>
                          
                          <script>
                          
                                function mon_check_box() 
                                {
                                  var checkBox = document.getElementById("mon_check");
                                  var mon_text = document.getElementById("mon_text");
                                  if (checkBox.checked == false){
                                    mon_text.style.display = "block";
                                  } else {
                                     mon_text.style.display = "none";
                                     mon_dev_register();
                                  }
                                }

                          
                          </script>
                          
                      </form>
                </div>
              </div>
            </div>
          </div>
        </div>
    </section>

    
    <section id="dashboardmd">

        <div class="choose-home">
              <form>
                    <div class="form-group">
                       <label for="det_mon_dev_id">Monitoring Device ID</label>
                       <input type="text" class="form-control" id="det_mon_dev_id" placeholder="Monitoring Device ID" style="width:50%;text-align: center;margin-left: 25%;">     
                    </div>
                    
                    <button type="button" class="btn btn-primary" onclick="retrieve_mon_dev_details()">Retreive details</button>

              </form> 
        </div> 
        <br>
        <div class="display details" style="text-align: center;" id="mon_dev_details">
          <h6>House ID :</h6><p align="center" id="r1">..</p>
          <h6>Monitoring Device Type :</h6><p align="center" id="r2">..</p>
          <h6>Monitoring Device Units Consumed :</h6><p align="center" id="r3">..</p>
          <h6>Monitoring Device Rating :</h6><p align="center" id="r4">..</p>
          <h6>Monitoring Device last taken value:</h6><p align="center" id="r5">..</p>
        </div>
        <br>

        <script>
            document.getElementById("mon_dev_details").style.display = "none";
        </script>
        
        <div id="testimonial-carousel" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active container-fluid">
                <div class="functions">
                    <div class="fn1" style="margin-left: 10%">
                      <img src="../images/Access.png" alt="grant-access" width="200px" height="200px">
                      <br>
                              <h4>Grant Access Rights</h4>
                                <form>
                                    <div class="form-group">
                                        <label for="add_mon_dev_id">Device ID</label>
                                        <input type="text" class="form-control" id="add_mon_dev_id" placeholder="Device ID">     
                                    </div>
                                    <div class="form-group">  
                                        <label for="add_address">Address</label>
                                        <input type="text" class="form-control" id="add_address" aria-describedby="addrHelp" placeholder="Address">
                                        <small id="addrHelp" class="form-text text-muted">Enter a valid metamask address</small>
                                    </div>
                                    <p></p>
                                    <button type="button" onclick="mon_dev_add_acc_rights()" style=" background-color: orange;margin-top: 84px;">Add Access Rights</button>

                                </form> 

                            </div>
            
                           <div class="fn2" style="margin-left:30% ">
                              <img src="../images/deny_access.png" alt="deny-access" width="200px" height="200px">
                              <br>

                                <h4>Remove Access Rights</h4>
                                <form>
                                    <div class="form-group">
                                        <label for="rem_mon_dev_id">Device ID</label>
                                        <input type="text" class="form-control" id="rem_mon_dev_id" placeholder="Device ID">     
                                    </div>
                                    <div class="form-group">  
                                        <label for="rem_address">Address</label>
                                        <input type="text" class="form-control" id="rem_address" aria-describedby="addrHelp" placeholder="Address">
                                        <small id="addrHelp" class="form-text text-muted">Enter a valid metamask address</small>
                                    </div>
                                    <p></p>
                                    <button type="button" onclick="mon_dev_remove_acc_rights()" style="  background-color: royalblue;margin-top: 84px;">Remove Access Rights</button>

                                </form> 

                            </div>
                        </div>
          </div> 
          <div class="carousel-item container-fluid">
                <div class="functions">
                    <div class="fn1" style="margin-left: 10%">


                              <img src="../images/Emergency.jpg" alt="detect-emergency" width="200px" height="200px">
                              <br>

                                <h4>Detect Emergency</h4>
                                <form>
                                    <div class="form-group">
                                        <label for="emerg_mon_dev_id">Device ID</label>
                                        <input type="text" class="form-control" id="emerg_mon_dev_id" placeholder="Device ID">     
                                    </div>
                                    <p></p>
                                    <button type="button" onclick="mon_dev_emerg()" style="  background-color: orangered;margin-top: 215px;">Check</button>

                                </form> 

                            </div>

  
    
                             <div class="fn2" style="margin-left: 30%">
                              <img src="../images/units.png" alt="units-consumed" width="200px" height="200px">
                              <br>

                                <h4>Update Units Consumed and Value</h4>
                                <form>
                                    <div class="form-group">
                                        <label for="units_mon_dev_id">Device ID</label>
                                        <input type="text" class="form-control" id="units_mon_dev_id" placeholder="Device ID">     
                                    </div>
                                    <div class="form-group">
                                        <label for="units_units_consumed">Units consumed</label>
                                        <input type="text" class="form-control" id="units_units_consumed" placeholder="Units consumed in Watt">     
                                    </div>
                                    <div class="form-group">
                                        <label for="mon_value">Value Taken</label>
                                        <input type="text" class="form-control" id="mon_value" placeholder="Last value recorded">     
                                    </div>
                                    <p></p>
                                    <button type="button" onclick="mon_dev_units_update()" style="  background-color: deepskyblue;margin-top: 79px;" >Update</button>

                                </form> 

                    </div>
                </div>
              </div>
            </div>
            <a class="carousel-control-prev" href="#testimonial-carousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#testimonial-carousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
            </a>
      </div>


  </section>

      
        <div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <!-- <span class="close" id="close">&times;</span> -->
        <h2>Transaction Confirmation</h2>
      </div>
      <div class="modal-body">
        
        <p class="modal-text" id="modal-text">""</p>
      </div>
      <div class="modal-footer">
        <p>Click anywhere to close notification</p>
      </div>
    </div>
  
  </div>
      
  </body>
</html>
